<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Диспетчерская - План завода</title>
    <link rel="stylesheet" href="styles/map.css">
</head>
<body>
<div class="container">
    <div class="map-container">
        <div class="map-stage">
            <img id="map-image" class="map-image" src="" alt="План завода" />
            <div id="interactive-areas"></div>
            <div id="map-loading" class="loading-indicator visible">
                <span class="loading-indicator__spinner"></span>
                <span class="loading-indicator__text">Загрузка карты...</span>
            </div>
            <div id="map-error-overlay" class="map-error-overlay">Изображение карты не удалось загрузить. Проверьте путь к файлу или запустите страницу через локальный веб-сервер.</div>
        </div>
    </div>
</div>

<div id="popup" class="popup">
    <span class="popup-close" onclick="closePopup()">×</span>
    <div class="popup-header" id="popup-header"></div>
    <div class="popup-content" id="popup-content"></div>
</div>

<div id="data-status" class="data-status" style="display: none;">
    <span id="data-status-spinner" class="data-status__spinner"></span>
    <span id="data-status-text">Ожидание данных...</span>
</div>

<script>
// Определение данных
window.externalData = "{причал: Плавдок № 20, судно: DE MI, вид_подхода: Фактический, дата_швартовки: 14.11.2025 8:00:00, дата_выбытия: 19.11.2025 14:11:53},{причал: Плавдок № 20, судно: GLORY STAR, вид_подхода: Фактический, дата_швартовки: 14.11.2025 9:00:00, дата_выбытия: 19.11.2025 14:11:53},{причал: Причал №26, судно: GLORY STAR, вид_подхода: Фактический, дата_швартовки: 18.11.2025 8:00:00, дата_выбытия: 18.11.2025 7:59:59}";
//window.externalData = "scriptData";
window.interactiveAreasData = "{name: СЛИП, x: 213, y: 266, width: 48, height: 12, matchField: причал, matchValue: СЛИП},{name: причал №27, x: 381,1, y: 217,9, width: 48, height: 12, matchField: причал, matchValue: причал №27},{name: причал №26, x: 288,7, y: 194,9, width: 48, height: 12, matchField: причал, matchValue: причал №26},{name: причал №28, x: 487,9, y: 289,5, width: 48, height: 12, matchField: причал, matchValue: причал №28},{name: пирс №1, x: 366,5, y: 119,8, width: 30,5, height: 30,5, matchField: пирс, matchValue: пирс №1},{name: П\\Д 20к, x: 478,1, y: 123,6, width: 30,5, height: 30,5, matchField: док, matchValue: П\\Д 20к},{name: П\\Д 2, x: 543,1, y: 146,4, width: 30,5, height: 30,5, matchField: док, matchValue: П\\Д 2},{name: пирс №2, x: 862,1, y: 169,2, width: 36,5, height: 41, matchField: пирс, matchValue: пирс №2},{name: причал №30, x: 792,5, y: 297,8, width: 48, height: 12, matchField: причал, matchValue: причал №30},{name: причал №31, x: 925,9, y: 274,3, width: 48, height: 12, matchField: причал, matchValue: причал №31},{name: причал ВМФ, x: 113, y: 278,9, width: 30,5, height: 30,5, matchField: причал, matchValue: причал ВМФ}";
//window.interactiveAreasData = "areasData";
//window.mapImagePath = "imagePath";
window.mapImagePath = "C:/Users/O.Iunina/Desktop/Projects/_Dispetcherskaya/yard_map.jpg";
</script>
<script src="src/map.js"></script>
</body>
</html>
